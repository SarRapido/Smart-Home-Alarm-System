<!DOCTYPE html>
<html> 
    <head>
        <meta charset="utf-8">
        <title>Smart Home Alarm System - Dashboard</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
        <link rel="stylesheet" href="home.css">
        <script src="home.js"></script>
    </head>

    <body onload="display()">

            <svg style="display:none;">
                <symbol id="logo" viewBox="0 0 16 16">
                  <rect width="7" height="7" />
                  <rect y="9" width="7" height="7" />
                  <rect x="9" width="7" height="7" />
                  <rect x="9" y="9" width="7" height="7" />
                </symbol>
                <symbol id="charts" viewBox="0 0 16 16">
                  <polygon points="0.64 7.38 -0.02 6.63 2.55 4.38 4.57 5.93 9.25 0.78 12.97 4.37 15.37 2.31 16.02 3.07 12.94 5.72 9.29 2.21 4.69 7.29 2.59 5.67 0.64 7.38" />
                  <rect y="9" width="2" height="7" />
                  <rect x="12" y="8" width="2" height="8" />
                  <rect x="8" y="6" width="2" height="10" />
                  <rect x="4" y="11" width="2" height="5" />
                </symbol>
                <symbol id="statistics" viewBox="0 0 16 16">
                  <polygon points="0.64 11.85 -0.02 11.1 2.55 8.85 4.57 10.4 9.25 5.25 12.97 8.84 15.37 6.79 16.02 7.54 12.94 10.2 9.29 6.68 4.69 11.76 2.59 10.14 0.64 11.85" />
                </symbol>
                <symbol id="settings" viewBox="0 0 16 16">
                  <path d="M8,11a3,3,0,1,1,3-3A3,3,0,0,1,8,11ZM8,6a2,2,0,1,0,2,2A2,2,0,0,0,8,6Z" />
                  <path d="M8.5,16h-1A1.5,1.5,0,0,1,6,14.5v-.85a5.91,5.91,0,0,1-.58-.24l-.6.6A1.54,1.54,0,0,1,2.7,14L2,13.3a1.5,1.5,0,0,1,0-2.12l.6-.6A5.91,5.91,0,0,1,2.35,10H1.5A1.5,1.5,0,0,1,0,8.5v-1A1.5,1.5,0,0,1,1.5,6h.85a5.91,5.91,0,0,1,.24-.58L2,4.82A1.5,1.5,0,0,1,2,2.7L2.7,2A1.54,1.54,0,0,1,4.82,2l.6.6A5.91,5.91,0,0,1,6,2.35V1.5A1.5,1.5,0,0,1,7.5,0h1A1.5,1.5,0,0,1,10,1.5v.85a5.91,5.91,0,0,1,.58.24l.6-.6A1.54,1.54,0,0,1,13.3,2L14,2.7a1.5,1.5,0,0,1,0,2.12l-.6.6a5.91,5.91,0,0,1,.24.58h.85A1.5,1.5,0,0,1,16,7.5v1A1.5,1.5,0,0,1,14.5,10h-.85a5.91,5.91,0,0,1-.24.58l.6.6a1.5,1.5,0,0,1,0,2.12L13.3,14a1.54,1.54,0,0,1-2.12,0l-.6-.6a5.91,5.91,0,0,1-.58.24v.85A1.5,1.5,0,0,1,8.5,16ZM5.23,12.18l.33.18a4.94,4.94,0,0,0,1.07.44l.36.1V14.5a.5.5,0,0,0,.5.5h1a.5.5,0,0,0,.5-.5V12.91l.36-.1a4.94,4.94,0,0,0,1.07-.44l.33-.18,1.12,1.12a.51.51,0,0,0,.71,0l.71-.71a.5.5,0,0,0,0-.71l-1.12-1.12.18-.33a4.94,4.94,0,0,0,.44-1.07l.1-.36H14.5a.5.5,0,0,0,.5-.5v-1a.5.5,0,0,0-.5-.5H12.91l-.1-.36a4.94,4.94,0,0,0-.44-1.07l-.18-.33L13.3,4.11a.5.5,0,0,0,0-.71L12.6,2.7a.51.51,0,0,0-.71,0L10.77,3.82l-.33-.18a4.94,4.94,0,0,0-1.07-.44L9,3.09V1.5A.5.5,0,0,0,8.5,1h-1a.5.5,0,0,0-.5.5V3.09l-.36.1a4.94,4.94,0,0,0-1.07.44l-.33.18L4.11,2.7a.51.51,0,0,0-.71,0L2.7,3.4a.5.5,0,0,0,0,.71L3.82,5.23l-.18.33a4.94,4.94,0,0,0-.44,1.07L3.09,7H1.5a.5.5,0,0,0-.5.5v1a.5.5,0,0,0,.5.5H3.09l.1.36a4.94,4.94,0,0,0,.44,1.07l.18.33L2.7,11.89a.5.5,0,0,0,0,.71l.71.71a.51.51,0,0,0,.71,0Z" />
                </symbol>
              </svg>
              <header class="page-header">
                <nav>
                  <a href="#0" aria-label="menu-logo" class="logo">
                    <svg width="140" height="49">
                      <use xlink:href="#logo"></use>
                    </svg>
                  </a>
                  <ul class="admin-menu">
                    <li class="menu-heading">
                      <h3>Dashboard</h3>
                    </li>
                    <li>
                        <a href="#0">
                          <svg>
                            <use xlink:href="#charts"></use>
                          </svg>
                          <span>Charts</span>
                        </a>
                    </li>
                    <li>
                        <a href="#0">
                          <svg>
                            <use xlink:href="#statistics"></use>
                          </svg>
                          <span>Statistics</span>
                        </a>
                    </li>
                    <li>
                      <a href="#0">
                        <svg>
                          <use xlink:href="#settings"></use>
                        </svg>
                        <span>Settings</span>
                      </a>
                    </li>
                    <li><span>Smart Home Alarm System</span></li>
                  </ul>
                </nav>
              </header>

              <section class="page-content">
            
                <section class="upper-section">
                  <div></div>
                  <div class="admin-message">
                    <span class="greeting">Hello, protect your home!</span>
                    <p><a href="https://smart-home-alarm-system.auth.us-east-1.amazoncognito.com/logout?client_id=5tpvj03icj7d38ttr289drhtao&logout_uri=http%3A%2F%2Flocalhost%3A5500%2Fwebsite%2Flogged_out.html">Logout</a></p>
                  </div>
                </section>

                <section class="grid">
                  <article>
                    <div class="container">
                      <h1>Smart Home Alarm System</h1> 
                      <p>Dashboard of my Smart Home Alarm System designed for IoT Algorithms and Services course of the Academic Year 2022-2023 at Sapienza University of Rome.</p>
                    </div>    
                  </article>

                  <article>
                    <div class="container">
                        <h2>Alarms:</h2>
                        <canvas id="alarmchart"></canvas>
                        <script>
                           plot("alarmchart", x_values_alarm, y_values_alarm);
                        </script>
                         
                      </div>
                    
                  </article>

                  <article>
                    <div class="container">
                      <h2>Alarms statistics:</h2>
                      <div class="statistics">
                        <h3 id = "alarm-info"></h3>
                        <p> Average measured magnetic flux during alarms (in mT): <p id ="avg-alarm-field"></p><br>
                            Number of days with alarms:<p id ="days-with-alarms"></p>
                        </p>

                        <form>
                          <!-- button type="button" onclick="callAPI(1,document.getElementById('system').value)">ACTIVATE</button -->
                          <button id="system_button" type="button" onclick="systemHandler()">ACTIVATE</button>
                      </form>
                      </div>
                    </div>
                  </article>

                  <article>
                    <div class="container">
                      <h2>System statistics:</h2>
                      <div class="statistics">
                        <p> Average system activation time (in min):<p id ="avg-activation"></p></p>
                      </div>
                    </div>
                  </article>

                  <article>          

                    <div class="container">
                      <div class="chart">
                        <h2>Latest system activation times:</h2>
                        <canvas id="systemchart"></canvas> 
                        <script>
                          plot("systemchart", x_values_system, y_values_system);
                        </script>
                          
                      </div>
                    </div>

                  </article>
                  <article></article>
                </section>
                <footer class="page-footer">
                  <span>IoT Algorithms and Services 2022/23</span>
                </footer>
              </section>

    </body>
</html>
